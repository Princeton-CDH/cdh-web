{% extends 'base.html' %}
{% load humanize %}

{% block page-subtitle %}Updates | {% endblock %}



{% block main %}
<ul class="pull-right">
    <li>Latest</li>
{% for archive_date in date_list %}
    <li><a href="{% url 'blog:by-year' year=archive_date.year %}">{{ archive_date.year }}</a></li>
{% endfor %}
</ul>

<section class="blogposts">
{% for blogpost in latest %}
{# TODO: convert to snippet ?  some overlap with blogpost detail #}
<div class="blogpost">
    <header>
    <a href="{{ blogpost.get_absolute_url }}"><h2>{{ blogpost.title }}</h2></a>

    <div class="byline">
    {% for author in blogpost.users.all %}
        <div class="authors">
        <span property="schema:author" typeof="schema:Person">
            <a {% if author.profile %}property="schema:url" href="{{ author.profile.get_absolute_url }}"{% endif %}>
            <span property="schema:name">{{ author }}</span></a>{% if not forloop.last %}, {% endif %}
        </span>
    </div>
    {% endfor %}
    <span class="date-published">{{ blogpost.publish_date|date:"F j, Y" }}</span>
    </div>
    </header>

    <div>{{ blogpost.description }}</div>
</div>
{% endfor %}
</section>

{% if is_paginated %}
  {% include "snippets/pagination.html" %}
{% endif %}


{% endblock %}
